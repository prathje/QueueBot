import { Client, Guild, CategoryChannel, TextChannel } from 'discord.js';
import { IMatch, MatchState, IMatchResult } from '../types';
export declare class MatchHandler {
    private client;
    private guild;
    private category;
    private match;
    private channel;
    private resultsChannel;
    private voiceChannel1;
    private voiceChannel2;
    private matchMessage;
    private messageUpdater;
    private playerService;
    private readyTimeout;
    private voteTimeout;
    private queueAutojoin;
    private onPlayersJoinQueue;
    private onMatchClose;
    private onMatchResult;
    private interactionListener;
    private playerNotificationMessages;
    private static readonly READY_TIMEOUT;
    private static readonly VOTE_TIMEOUT;
    constructor(client: Client, guild: Guild, category: CategoryChannel, match: IMatch, onPlayersJoinQueue?: (playerIds: string[], queueId: string) => Promise<boolean>, onMatchClose?: (matchId: string) => void, resultsChannel?: TextChannel | null, onMatchResult?: ((matchResult: IMatchResult) => Promise<void>) | null);
    initialize(): Promise<void>;
    private saveMatch;
    private updateMatch;
    private createMatchChannel;
    private createVoiceChannels;
    private setupMatchMessage;
    private createMatchEmbed;
    private createMatchButtons;
    private setupInteractionHandlers;
    private cleanupInteractionHandlers;
    private handleAutojoinRegistration;
    private handleRefreshMatch;
    private startReadyPhase;
    private handleReady;
    private startMatch;
    private handleVote;
    private checkVoteResults;
    private completeMatch;
    private postMatchResultToWebhook;
    private cancelMatch;
    private closeMatch;
    private updateMatchMessage;
    getMatch(): IMatch;
    getId(): string;
    getState(): MatchState;
    forceCancel(reason?: string): Promise<void>;
    private notifyPlayersOfMatchChannel;
    private updatePlayerNotifications;
    private buildMatchNotificationMessage;
    private updatePlayerNotificationWithStatus;
    private postToResultsChannel;
    static cleanupMatchChannels(guild: Guild, match: {
        matchId: string;
        discordChannelId: string | null;
        discordVoiceChannel1Id: string | null;
        discordVoiceChannel2Id: string | null;
    }): Promise<number>;
}
//# sourceMappingURL=match_handler.d.ts.map